{% extends 'devices/base.html' %}
{% load i18n %}

{% block title %}{% trans "Print Label" %} - {{ device.device_id }}{% endblock %}

{% block content %}
<div class="container">
    <div class="no-print" style="margin-bottom: 20px;">
        <button onclick="window.print()" class="btn btn-primary">{% trans "Print Label" %}</button>
        <a href="{% url 'print_formulier' device.device_id %}" class="btn btn-primary">{% trans "Print A4 Form" %}</a>
        <a href="{% url 'dashboard' %}" class="btn btn-secondary">{% trans "Back to Dashboard" %}</a>
    </div>

    <div class="print-label">
        <h2>REPAIR CAFÉ</h2>

        <div class="device-id-large">{{ device.device_id }}</div>

        <div class="barcode-placeholder">
            <img src="{{ barcode_image }}" alt="Barcode for {{ device.device_id }}" style="max-width: 100%; height: auto;">
        </div>

        <div style="margin-top: 20px; text-align: left;">
            <p><strong>{% trans "Customer:" %}</strong> {{ device.customer_name }}</p>
            <p><strong>{% trans "Phone:" %}</strong> {{ device.phone_number }}</p>
            <p><strong>{% trans "Device:" %}</strong> {{ device.device_type }}</p>
            <p><strong>{% trans "Brand/Model:" %}</strong> {{ device.brand_model }}</p>
            <p><strong>{% trans "Intake:" %}</strong> {{ device.intake_datetime|date:"Y-m-d H:i" }}</p>

            {% if device.accessories %}
            <div style="margin-top: 15px; padding: 10px; border: 2px solid #000; background-color: #ffffcc;">
                <strong>⚠️ {% trans "ACCESSORIES:" %}</strong><br>
                {{ device.accessories }}
            </div>
            {% endif %}
        </div>

        <div style="margin-top: 20px; font-size: 12px; color: #666;">
            <p>{% trans "Please attach this label to the device." %}</p>
            <p>{% trans "Keep items together to prevent loss." %}</p>
        </div>
    </div>
</div>
{% endblock %}
